{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nexport default {\n  name: 'FileUpload',\n  data() {\n    return {\n      isDragging: false,\n      selectedFiles: [],\n      errorMessage: ''\n    };\n  },\n  methods: {\n    // Abrir el selector de archivos\n    triggerFileInput() {\n      this.$refs.fileInput.click();\n    },\n    // Manejar selección de archivos\n    handleFileSelect(event) {\n      const files = Array.from(event.target.files);\n      this.processFiles(files);\n    },\n    // Manejar drag over\n    handleDragOver(event) {\n      event.preventDefault();\n      this.isDragging = true;\n    },\n    // Manejar drag leave\n    handleDragLeave(event) {\n      event.preventDefault();\n      this.isDragging = false;\n    },\n    // Manejar drop de archivos\n    handleDrop(event) {\n      event.preventDefault();\n      this.isDragging = false;\n      const files = Array.from(event.dataTransfer.files);\n      this.processFiles(files);\n    },\n    // Procesar archivos\n    processFiles(files) {\n      this.errorMessage = '';\n\n      // Validar tipos de archivo\n      const validTypes = ['image/png', 'image/jpeg', 'image/svg+xml', 'application/pdf'];\n      const maxSize = 10 * 1024 * 1024; // 10MB\n\n      const invalidFiles = files.filter(file => !validTypes.includes(file.type) || file.size > maxSize);\n      if (invalidFiles.length > 0) {\n        this.errorMessage = 'Algunos archivos no son válidos. Solo se permiten PNG, JPG, SVG, PDF (max. 10MB)';\n        return;\n      }\n\n      // Agregar archivos válidos\n      this.selectedFiles = [...this.selectedFiles, ...files];\n\n      // Emitir evento para el componente padre\n      this.$emit('files-selected', this.selectedFiles);\n    },\n    // Eliminar archivo\n    removeFile(index) {\n      this.selectedFiles.splice(index, 1);\n      this.$emit('files-selected', this.selectedFiles);\n    },\n    // Obtener extensión del archivo\n    getFileExtension(filename) {\n      return filename.split('.').pop().toUpperCase();\n    },\n    // Formatear tamaño del archivo\n    formatFileSize(bytes) {\n      if (bytes === 0) return '0 Bytes';\n      const k = 1024;\n      const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n      const i = Math.floor(Math.log(bytes) / Math.log(k));\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n    }\n  },\n  emits: ['files-selected']\n};","map":{"version":3,"names":["name","data","isDragging","selectedFiles","errorMessage","methods","triggerFileInput","$refs","fileInput","click","handleFileSelect","event","files","Array","from","target","processFiles","handleDragOver","preventDefault","handleDragLeave","handleDrop","dataTransfer","validTypes","maxSize","invalidFiles","filter","file","includes","type","size","length","$emit","removeFile","index","splice","getFileExtension","filename","split","pop","toUpperCase","formatFileSize","bytes","k","sizes","i","Math","floor","log","parseFloat","pow","toFixed","emits"],"sources":["/home/jorge/Escritorio/Jorge-PC/Marlen/pigmaprint/src/views/Home.vue"],"sourcesContent":["<template>\n  <div class=\"flex flex-col items-center justify-center w-full\">\n    <!-- Área de drop -->\n    <div \n      @drop=\"handleDrop\"\n      @dragover=\"handleDragOver\"\n      @dragleave=\"handleDragLeave\"\n      class=\"flex flex-col items-center justify-center w-full p-12 border-2 border-dashed border-border-light dark:border-border-dark rounded-xl bg-subtle-light dark:bg-subtle-dark transition-colors hover:border-primary hover:bg-primary/5 cursor-pointer\"\n      :class=\"{ 'border-primary bg-primary/10': isDragging }\"\n    >\n      <!-- Icono -->\n      <svg class=\"w-16 h-16 text-primary mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"/>\n      </svg>\n      \n      <!-- Texto principal -->\n      <p class=\"text-lg font-bold text-center mb-2\">Arrastra y suelta tu archivo aquí</p>\n      \n      <!-- Texto secundario -->\n      <p class=\"text-sm text-foreground-light/60 dark:text-foreground-dark/60 text-center mb-4\">\n        PNG, JPG, SVG o PDF (Max. 10MB)\n      </p>\n      \n      <!-- O separador -->\n      <p class=\"text-sm text-foreground-light/60 dark:text-foreground-dark/60 mb-4\">o</p>\n      \n      <!-- Botón para seleccionar archivo -->\n      <button \n        @click=\"triggerFileInput\"\n        type=\"button\"\n        class=\"flex items-center justify-center rounded-lg bg-primary text-white px-6 py-3 text-sm font-bold hover:bg-primary/90 transition-colors\"\n      >\n        <svg class=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\"/>\n        </svg>\n        Seleccionar Archivo\n      </button>\n      \n      <!-- Input de archivo oculto -->\n      <input \n        type=\"file\"\n        ref=\"fileInput\"\n        @change=\"handleFileSelect\"\n        class=\"hidden\"\n        accept=\".png,.jpg,.jpeg,.svg,.pdf\"\n        multiple\n      />\n    </div>\n\n    <!-- Archivos seleccionados -->\n    <div v-if=\"selectedFiles.length > 0\" class=\"w-full mt-6\">\n      <h4 class=\"font-medium mb-3\">Archivos seleccionados:</h4>\n      <div class=\"space-y-2\">\n        <div \n          v-for=\"(file, index) in selectedFiles\" \n          :key=\"index\"\n          class=\"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded-lg border\"\n        >\n          <div class=\"flex items-center gap-3\">\n            <!-- Icono según tipo de archivo -->\n            <div class=\"w-8 h-8 flex items-center justify-center bg-primary/10 rounded\">\n              <span class=\"text-primary text-sm font-bold\">\n                {{ getFileExtension(file.name) }}\n              </span>\n            </div>\n            <div>\n              <p class=\"font-medium text-sm\">{{ file.name }}</p>\n              <p class=\"text-xs text-gray-500\">{{ formatFileSize(file.size) }}</p>\n            </div>\n          </div>\n          <button \n            @click=\"removeFile(index)\"\n            class=\"text-red-500 hover:text-red-700 transition-colors\"\n          >\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"/>\n            </svg>\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Mensaje de error -->\n    <div v-if=\"errorMessage\" class=\"w-full mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded\">\n      {{ errorMessage }}\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'FileUpload',\n  data() {\n    return {\n      isDragging: false,\n      selectedFiles: [],\n      errorMessage: ''\n    }\n  },\n  methods: {\n    // Abrir el selector de archivos\n    triggerFileInput() {\n      this.$refs.fileInput.click()\n    },\n\n    // Manejar selección de archivos\n    handleFileSelect(event) {\n      const files = Array.from(event.target.files)\n      this.processFiles(files)\n    },\n\n    // Manejar drag over\n    handleDragOver(event) {\n      event.preventDefault()\n      this.isDragging = true\n    },\n\n    // Manejar drag leave\n    handleDragLeave(event) {\n      event.preventDefault()\n      this.isDragging = false\n    },\n\n    // Manejar drop de archivos\n    handleDrop(event) {\n      event.preventDefault()\n      this.isDragging = false\n      \n      const files = Array.from(event.dataTransfer.files)\n      this.processFiles(files)\n    },\n\n    // Procesar archivos\n    processFiles(files) {\n      this.errorMessage = ''\n      \n      // Validar tipos de archivo\n      const validTypes = ['image/png', 'image/jpeg', 'image/svg+xml', 'application/pdf']\n      const maxSize = 10 * 1024 * 1024 // 10MB\n\n      const invalidFiles = files.filter(file => \n        !validTypes.includes(file.type) || file.size > maxSize\n      )\n\n      if (invalidFiles.length > 0) {\n        this.errorMessage = 'Algunos archivos no son válidos. Solo se permiten PNG, JPG, SVG, PDF (max. 10MB)'\n        return\n      }\n\n      // Agregar archivos válidos\n      this.selectedFiles = [...this.selectedFiles, ...files]\n      \n      // Emitir evento para el componente padre\n      this.$emit('files-selected', this.selectedFiles)\n    },\n\n    // Eliminar archivo\n    removeFile(index) {\n      this.selectedFiles.splice(index, 1)\n      this.$emit('files-selected', this.selectedFiles)\n    },\n\n    // Obtener extensión del archivo\n    getFileExtension(filename) {\n      return filename.split('.').pop().toUpperCase()\n    },\n\n    // Formatear tamaño del archivo\n    formatFileSize(bytes) {\n      if (bytes === 0) return '0 Bytes'\n      const k = 1024\n      const sizes = ['Bytes', 'KB', 'MB', 'GB']\n      const i = Math.floor(Math.log(bytes) / Math.log(k))\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\n    }\n  },\n  emits: ['files-selected']\n}\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}