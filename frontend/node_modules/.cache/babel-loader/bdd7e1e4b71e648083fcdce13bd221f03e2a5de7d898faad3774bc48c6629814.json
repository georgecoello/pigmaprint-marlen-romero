{"ast":null,"code":"import \"core-js/modules/es.array-buffer.detached.js\";\nimport \"core-js/modules/es.array-buffer.transfer.js\";\nimport \"core-js/modules/es.array-buffer.transfer-to-fixed-length.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nimport \"core-js/modules/es.typed-array.with.js\";\nimport \"core-js/modules/esnext.uint8-array.set-from-base64.js\";\nimport \"core-js/modules/esnext.uint8-array.set-from-hex.js\";\nimport \"core-js/modules/esnext.uint8-array.to-base64.js\";\nimport \"core-js/modules/esnext.uint8-array.to-hex.js\";\nimport \"core-js/modules/web.dom-exception.stack.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport AppHeader from '@/components/Header.vue';\nexport default {\n  name: 'CartView',\n  components: {\n    AppHeader\n  },\n  data() {\n    return {\n      cartItems: [],\n      cartCount: 0,\n      showContactModal: false,\n      customerInfo: {\n        name: '',\n        contact: '',\n        // Puede ser n√∫mero de WhatsApp o usuario de Telegram\n        email: ''\n      },\n      // CONFIGURACI√ìN - CAMBIA ESTOS DATOS\n      telegramConfig: {\n        botUsername: 'PigmaprintBot',\n        // Tu bot de Telegram\n        chatId: '5049' // ID del chat o grupo de Pigmaprint\n      },\n      whatsappConfig: {\n        number: '5049' // N√∫mero de WhatsApp de Pigmaprint\n      }\n    };\n  },\n  computed: {\n    canSubmitQuote() {\n      return this.customerInfo.name.trim() !== '' && this.customerInfo.contact.trim() !== '' && this.cartItems.length > 0;\n    },\n    totalFiles() {\n      return this.cartItems.length;\n    },\n    hasImageFiles() {\n      return this.cartItems.some(item => item.file && item.file.type.includes('image'));\n    }\n  },\n  mounted() {\n    this.loadCart();\n  },\n  methods: {\n    loadCart() {\n      const savedCart = localStorage.getItem('pigmaprint_cart');\n      if (savedCart) {\n        const cartData = JSON.parse(savedCart);\n        this.cartItems = cartData.map(item => {\n          if (item.fileData && !item.file) {\n            return {\n              ...item,\n              file: this.dataURLtoFile(item.fileData, item.fileName)\n            };\n          }\n          return item;\n        });\n        this.cartCount = this.cartItems.length;\n      }\n    },\n    dataURLtoFile(dataurl, filename) {\n      if (!dataurl) return null;\n      try {\n        const arr = dataurl.split(',');\n        const mime = arr[0].match(/:(.*?);/)[1];\n        const bstr = atob(arr[1]);\n        let n = bstr.length;\n        const u8arr = new Uint8Array(n);\n        while (n--) {\n          u8arr[n] = bstr.charCodeAt(n);\n        }\n        return new File([u8arr], filename, {\n          type: mime\n        });\n      } catch (error) {\n        console.error('Error converting dataURL to File:', error);\n        return null;\n      }\n    },\n    getProductIcon(productType) {\n      const icons = {\n        camiseta: 'checkroom',\n        taza: 'coffee',\n        termo: 'water_bottle',\n        gorra: 'sports_baseball',\n        vaso: 'liquor',\n        hoodie: 'account_circle',\n        otros: 'category'\n      };\n      return icons[productType] || 'category';\n    },\n    getProductTypeLabel(productType) {\n      const labels = {\n        camiseta: 'Camiseta',\n        taza: 'Taza',\n        termo: 'Termo',\n        gorra: 'Gorra',\n        vaso: 'Vaso T√©rmico',\n        hoodie: 'Hoodie',\n        otros: 'Otro Producto'\n      };\n      return labels[productType] || 'Producto';\n    },\n    formatDate(dateString) {\n      const date = new Date(dateString);\n      return date.toLocaleDateString('es-ES', {\n        day: '2-digit',\n        month: '2-digit',\n        year: 'numeric'\n      });\n    },\n    formatFileSize(bytes) {\n      if (!bytes) return 'N/A';\n      if (bytes === 0) return '0 Bytes';\n      const k = 1024;\n      const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n      const i = Math.floor(Math.log(bytes) / Math.log(k));\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n    },\n    getFilePreview(file) {\n      if (!file) return '';\n      return URL.createObjectURL(file);\n    },\n    removeItem(itemId) {\n      this.cartItems = this.cartItems.filter(item => item.id !== itemId);\n      this.saveCart();\n      this.cartCount = this.cartItems.length;\n    },\n    clearCart() {\n      if (confirm('¬øEst√°s seguro de que quieres vaciar el carrito?')) {\n        this.cartItems = [];\n        this.saveCart();\n        this.cartCount = 0;\n      }\n    },\n    saveCart() {\n      const cartToSave = this.cartItems.map(item => ({\n        ...item,\n        file: null,\n        fileData: item.file ? this.fileToDataURL(item.file) : null\n      }));\n      localStorage.setItem('pigmaprint_cart', JSON.stringify(cartToSave));\n    },\n    fileToDataURL(file) {\n      return new Promise(resolve => {\n        const reader = new FileReader();\n        reader.onload = e => resolve(e.target.result);\n        reader.readAsDataURL(file);\n      });\n    },\n    // TELEGRAM - ENV√çA IM√ÅGENES Y ARCHIVOS\n    async sendViaTelegram() {\n      if (!this.canSubmitQuote) {\n        alert('Por favor completa tu informaci√≥n de contacto');\n        return;\n      }\n      try {\n        const message = this.createDetailedMessage();\n\n        // Para Telegram, podemos intentar dos enfoques:\n\n        // 1. Enfoque con bot (recomendado)\n        const telegramURL = this.createTelegramBotURL(message);\n        window.open(telegramURL, '_blank', 'noopener,noreferrer');\n\n        // 2. Enfoque alternativo: compartir v√≠a t.me\n        // this.shareViaTelegramShare(message)\n\n        this.showContactModal = false;\n        setTimeout(() => {\n          alert('‚úÖ Se ha abierto Telegram. Por favor env√≠a el mensaje y ADJUNTA LAS IM√ÅGENES manualmente desde tu galer√≠a.');\n        }, 1000);\n      } catch (error) {\n        console.error('Error con Telegram:', error);\n        alert('Error al abrir Telegram. Por favor intenta manualmente.');\n      }\n    },\n    createTelegramBotURL(message) {\n      // URL para enviar mensaje a un bot de Telegram\n      const encodedMessage = encodeURIComponent(message);\n      return `https://t.me/${this.telegramConfig.botUsername}?start=${encodedMessage}`;\n    },\n    shareViaTelegramShare(message) {\n      // Enfoque alternativo usando la funci√≥n de compartir de Telegram\n      const shareText = `${message}\\n\\nüíé Pigmaprint - Personalizaci√≥n de Productos`;\n      const encodedText = encodeURIComponent(shareText);\n      window.open(`https://t.me/share/url?url=${encodeURIComponent('https://pigmaprint.com')}&text=${encodedText}`, '_blank');\n    },\n    // WHATSAPP - SOLO TEXTO\n    sendViaWhatsApp() {\n      if (!this.canSubmitQuote) {\n        alert('Por favor completa tu informaci√≥n de contacto');\n        return;\n      }\n      try {\n        const message = this.createDetailedMessage();\n        const whatsappNumber = this.whatsappConfig.number.replace(/\\D/g, '');\n        const whatsappURL = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`;\n        window.open(whatsappURL, '_blank', 'noopener,noreferrer');\n        this.showContactModal = false;\n        setTimeout(() => {\n          alert('‚úÖ Se ha abierto WhatsApp con tu pedido. Por favor env√≠a el mensaje.');\n        }, 1000);\n      } catch (error) {\n        console.error('Error con WhatsApp:', error);\n        alert('Error al abrir WhatsApp. Por favor intenta nuevamente.');\n      }\n    },\n    createDetailedMessage() {\n      const currentDate = new Date().toLocaleDateString('es-ES');\n      const contactType = this.customerInfo.contact.includes('@') ? 'Telegram' : 'WhatsApp';\n      let message = `¬°Hola Pigmaprint! üé®%0A%0A`;\n      message += `*SOLICITUD DE COTIZACI√ìN - PEDIDO COMPLETO*%0A%0A`;\n\n      // Informaci√≥n del cliente\n      message += `*üë§ INFORMACI√ìN DEL CLIENTE*%0A`;\n      message += `‚ñ´Ô∏è *Nombre:* ${this.customerInfo.name}%0A`;\n      message += `‚ñ´Ô∏è *Contacto (${contactType}):* ${this.customerInfo.contact}%0A`;\n      if (this.customerInfo.email) {\n        message += `‚ñ´Ô∏è *Email:* ${this.customerInfo.email}%0A`;\n      }\n      message += `‚ñ´Ô∏è *Fecha:* ${currentDate}%0A%0A`;\n\n      // Resumen del pedido\n      message += `*üì¶ RESUMEN DEL PEDIDO*%0A`;\n      message += `‚ñ´Ô∏è *Total productos:* ${this.cartItems.length}%0A`;\n      message += `‚ñ´Ô∏è *Archivos adjuntos:* ${this.totalFiles}%0A`;\n      if (this.hasImageFiles) {\n        message += `‚ñ´Ô∏è *Incluye im√°genes:* S√≠ ‚úÖ%0A`;\n      }\n      message += `%0A`;\n\n      // Detalles de productos\n      message += `*üé® DETALLES DE PRODUCTOS*%0A%0A`;\n      this.cartItems.forEach((item, index) => {\n        message += `*${index + 1}. ${this.getProductTypeLabel(item.productType)}*%0A`;\n        message += `   üìÅ *Archivo:* ${item.fileName}%0A`;\n        message += `   üìè *Tama√±o:* ${this.formatFileSize(item.file?.size)}%0A`;\n        if (item.notes && item.notes.trim() !== '') {\n          message += `   üí¨ *Instrucciones:* ${item.notes}%0A`;\n        }\n\n        // Informaci√≥n adicional para im√°genes\n        if (item.file && item.file.type.includes('image')) {\n          message += `   üñºÔ∏è *Tipo:* Imagen (adjunta)%0A`;\n        }\n        message += `%0A`;\n      });\n      message += `*üí° INFORMACI√ìN ADICIONAL*%0A`;\n      message += `Todos los archivos est√°n listos para enviar. Por favor env√≠enme la cotizaci√≥n completa. üôè%0A%0A`;\n      message += `_üì± Mensaje desde Pigmaprint Web_`;\n      return message;\n    }\n  }\n};","map":{"version":3,"names":["AppHeader","name","components","data","cartItems","cartCount","showContactModal","customerInfo","contact","email","telegramConfig","botUsername","chatId","whatsappConfig","number","computed","canSubmitQuote","trim","length","totalFiles","hasImageFiles","some","item","file","type","includes","mounted","loadCart","methods","savedCart","localStorage","getItem","cartData","JSON","parse","map","fileData","dataURLtoFile","fileName","dataurl","filename","arr","split","mime","match","bstr","atob","n","u8arr","Uint8Array","charCodeAt","File","error","console","getProductIcon","productType","icons","camiseta","taza","termo","gorra","vaso","hoodie","otros","getProductTypeLabel","labels","formatDate","dateString","date","Date","toLocaleDateString","day","month","year","formatFileSize","bytes","k","sizes","i","Math","floor","log","parseFloat","pow","toFixed","getFilePreview","URL","createObjectURL","removeItem","itemId","filter","id","saveCart","clearCart","confirm","cartToSave","fileToDataURL","setItem","stringify","Promise","resolve","reader","FileReader","onload","e","target","result","readAsDataURL","sendViaTelegram","alert","message","createDetailedMessage","telegramURL","createTelegramBotURL","window","open","setTimeout","encodedMessage","encodeURIComponent","shareViaTelegramShare","shareText","encodedText","sendViaWhatsApp","whatsappNumber","replace","whatsappURL","currentDate","contactType","forEach","index","size","notes"],"sources":["/home/jorge/Escritorio/Jorge-PC/Marlen/pigmaprint-marlen-romero/src/views/Cart.vue"],"sourcesContent":["<template>\n  <div class=\"flex flex-col min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800\">\n    <AppHeader :cart-count=\"cartCount\" />\n    \n    <main class=\"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n      <div class=\"max-w-6xl mx-auto\">\n        <!-- Header del Carrito -->\n        <div class=\"text-center mb-12\">\n          <h1 class=\"text-4xl sm:text-5xl font-extrabold tracking-tight bg-gradient-to-r from-purple-600 to-blue-500 bg-clip-text text-transparent\">\n            Tu Carrito\n          </h1>\n          <p class=\"mt-4 text-lg text-gray-600 dark:text-gray-300\">\n            Revisa y gestiona tus productos personalizados\n          </p>\n        </div>\n\n        <!-- Carrito Vac√≠o -->\n        <div v-if=\"cartItems.length === 0\" class=\"text-center bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-12\">\n          <div class=\"text-6xl text-purple-400 mb-6\">\n            <span class=\"material-symbols-outlined\">shopping_cart</span>\n          </div>\n          <h3 class=\"text-2xl font-bold text-gray-800 dark:text-white mb-4\">\n            Tu carrito est√° vac√≠o\n          </h3>\n          <p class=\"text-gray-600 dark:text-gray-300 mb-8 max-w-md mx-auto\">\n            Agrega algunos productos personalizados para comenzar tu pedido.\n          </p>\n          <button \n            @click=\"$router.push('/')\"\n            class=\"px-8 py-4 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl hover:from-purple-600 hover:to-blue-600 transition-all duration-300 transform hover:-translate-y-0.5\"\n          >\n            <span class=\"material-symbols-outlined align-middle mr-2\">add_circle</span>\n            Agregar Productos\n          </button>\n        </div>\n\n        <!-- Carrito con Productos -->\n        <div v-else class=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          <!-- Lista de Productos -->\n          <div class=\"lg:col-span-2 space-y-6\">\n            <!-- Productos -->\n            <div \n              v-for=\"item in cartItems\" \n              :key=\"item.id\"\n              class=\"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 transition-all duration-300 hover:shadow-xl\"\n            >\n              <div class=\"flex flex-col sm:flex-row gap-6\">\n                <!-- Vista previa de la imagen -->\n                <div class=\"flex-shrink-0 w-32 h-32 bg-gray-100 dark:bg-gray-700 rounded-xl flex items-center justify-center overflow-hidden\">\n                  <img \n                    v-if=\"item.file && item.file.type.includes('image')\"\n                    :src=\"getFilePreview(item.file)\"\n                    :alt=\"item.productName\"\n                    class=\"w-full h-full object-cover\"\n                  >\n                  <span v-else class=\"material-symbols-outlined text-3xl text-purple-600 dark:text-purple-400\">\n                    {{ getProductIcon(item.productType) }}\n                  </span>\n                </div>\n\n                <!-- Informaci√≥n del Producto -->\n                <div class=\"flex-grow\">\n                  <div class=\"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-4\">\n                    <div>\n                      <h3 class=\"text-xl font-bold text-gray-800 dark:text-white mb-2\">\n                        {{ item.productName }}\n                      </h3>\n                      <p class=\"text-gray-600 dark:text-gray-300 text-sm\">\n                        Archivo: {{ item.fileName }}\n                      </p>\n                      <p v-if=\"item.notes\" class=\"text-gray-500 dark:text-gray-400 text-sm mt-2\">\n                        Notas: {{ item.notes }}\n                      </p>\n                      <p class=\"text-gray-600 dark:text-gray-300 text-sm mt-1\">\n                        Tipo: {{ getProductTypeLabel(item.productType) }}\n                      </p>\n                    </div>\n                    \n                    <!-- Precio (placeholder) -->\n                    <div class=\"mt-2 sm:mt-0 text-right\">\n                      <p class=\"text-lg font-bold text-purple-600 dark:text-purple-400\">\n                        Por cotizar\n                      </p>\n                      <p class=\"text-sm text-gray-500 dark:text-gray-400\">\n                        {{ formatDate(item.date) }}\n                      </p>\n                    </div>\n                  </div>\n\n                  <!-- Acciones -->\n                  <div class=\"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700\">\n                    <span class=\"text-sm text-gray-500 dark:text-gray-400\">\n                      Tama√±o archivo: {{ formatFileSize(item.file?.size) }}\n                    </span>\n                    \n                    <button \n                      @click=\"removeItem(item.id)\"\n                      class=\"text-red-500 hover:text-red-700 dark:hover:text-red-400 transition-colors duration-200 flex items-center\"\n                    >\n                      <span class=\"material-symbols-outlined text-lg mr-1\">delete</span>\n                      Eliminar\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Resumen del Pedido -->\n          <div class=\"lg:col-span-1\">\n            <div class=\"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 sticky top-6\">\n              <h3 class=\"text-xl font-bold text-gray-800 dark:text-white mb-6\">\n                Resumen del Pedido\n              </h3>\n\n              <!-- Detalles -->\n              <div class=\"space-y-4 mb-6\">\n                <div class=\"flex justify-between items-center\">\n                  <span class=\"text-gray-600 dark:text-gray-300\">Productos:</span>\n                  <span class=\"font-semibold text-gray-800 dark:text-white\">\n                    {{ cartItems.length }}\n                  </span>\n                </div>\n                \n                <div class=\"flex justify-between items-center\">\n                  <span class=\"text-gray-600 dark:text-gray-300\">Archivos:</span>\n                  <span class=\"font-semibold text-gray-800 dark:text-white\">\n                    {{ totalFiles }}\n                  </span>\n                </div>\n\n                <div class=\"flex justify-between items-center\">\n                  <span class=\"text-gray-600 dark:text-gray-300\">Estado:</span>\n                  <span class=\"px-3 py-1 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300 rounded-full text-sm font-medium\">\n                    Por cotizar\n                  </span>\n                </div>\n              </div>\n\n              <!-- Total -->\n              <div class=\"border-t border-gray-200 dark:border-gray-700 pt-4 mb-6\">\n                <div class=\"flex justify-between items-center text-lg font-bold\">\n                  <span class=\"text-gray-800 dark:text-white\">Total estimado:</span>\n                  <span class=\"text-purple-600 dark:text-purple-400\">\n                    Por cotizar\n                  </span>\n                </div>\n                <p class=\"text-sm text-gray-500 dark:text-gray-400 mt-2\">\n                  * Los precios finales ser√°n confirmados por nuestro equipo\n                </p>\n              </div>\n\n              <!-- Botones de Acci√≥n -->\n              <div class=\"space-y-4\">\n                <button \n                  @click=\"showContactModal = true\"\n                  :disabled=\"cartItems.length === 0\"\n                  :class=\"[\n                    'w-full px-6 py-4 rounded-xl font-semibold shadow-lg transition-all duration-300 transform hover:-translate-y-0.5 flex items-center justify-center',\n                    cartItems.length > 0\n                      ? 'bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:shadow-xl hover:from-green-600 hover:to-emerald-700'\n                      : 'bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed'\n                  ]\"\n                >\n                  <span class=\"material-symbols-outlined mr-2\">send</span>\n                  Solicitar Cotizaci√≥n\n                </button>\n                \n                <button \n                  @click=\"$router.push('/')\"\n                  class=\"w-full px-6 py-4 border-2 border-purple-500 text-purple-600 dark:text-purple-400 dark:border-purple-400 rounded-xl font-semibold hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-all duration-300 flex items-center justify-center\"\n                >\n                  <span class=\"material-symbols-outlined mr-2\">add_circle</span>\n                  Agregar M√°s Productos\n                </button>\n                \n                <button \n                  @click=\"clearCart\"\n                  class=\"w-full px-6 py-4 text-red-500 hover:text-red-700 dark:hover:text-red-400 transition-colors duration-200 flex items-center justify-center\"\n                >\n                  <span class=\"material-symbols-outlined mr-2\">delete_sweep</span>\n                  Vaciar Carrito\n                </button>\n              </div>\n\n              <!-- Informaci√≥n Adicional -->\n              <div class=\"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800\">\n                <div class=\"flex items-start space-x-3\">\n                  <span class=\"material-symbols-outlined text-blue-500 text-lg mt-0.5\">info</span>\n                  <div>\n                    <p class=\"text-sm text-blue-700 dark:text-blue-300\">\n                      Puedes enviar tu pedido por WhatsApp o Telegram (recomendado para im√°genes).\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </main>\n\n    <!-- Modal de Informaci√≥n de Contacto -->\n    <transition name=\"modal-fade\">\n      <div \n        v-if=\"showContactModal\" \n        class=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm transition-all duration-300\"\n        @click.self=\"showContactModal = false\"\n      >\n        <div class=\"relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-md w-full mx-auto transform transition-all duration-500 scale-95 hover:scale-100\">\n          <!-- Header -->\n          <div class=\"bg-gradient-to-r from-purple-500 to-blue-500 rounded-t-3xl p-8 text-center\">\n            <div class=\"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm\">\n              <span class=\"material-symbols-outlined text-4xl text-white\">\n                person\n              </span>\n            </div>\n            <h3 class=\"text-2xl font-bold text-white mb-2\">\n              Informaci√≥n de Contacto\n            </h3>\n            <p class=\"text-white/90\">\n              Completa tus datos para la cotizaci√≥n\n            </p>\n          </div>\n\n          <!-- Formulario -->\n          <div class=\"p-6\">\n            <div class=\"space-y-4\">\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Tu Nombre Completo *\n                </label>\n                <input \n                  v-model=\"customerInfo.name\"\n                  type=\"text\"\n                  class=\"w-full rounded-xl p-4 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300\"\n                  placeholder=\"Ej: Mar√≠a Gonz√°lez\"\n                  required\n                >\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Tu N√∫mero/Usuario *\n                </label>\n                <input \n                  v-model=\"customerInfo.contact\"\n                  type=\"text\"\n                  class=\"w-full rounded-xl p-4 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300\"\n                  placeholder=\"WhatsApp: 50412345678 o Telegram: @usuario\"\n                  required\n                >\n                <p class=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                  WhatsApp (n√∫mero) o Telegram (@usuario)\n                </p>\n              </div>\n\n              <div>\n                <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                  Tu Email (Opcional)\n                </label>\n                <input \n                  v-model=\"customerInfo.email\"\n                  type=\"email\"\n                  class=\"w-full rounded-xl p-4 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-800 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300\"\n                  placeholder=\"Ej: tu@email.com\"\n                >\n              </div>\n            </div>\n\n            <!-- Resumen del pedido en el modal -->\n            <div class=\"mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-xl\">\n              <h4 class=\"font-semibold text-gray-800 dark:text-white mb-2\">\n                Resumen de tu pedido:\n              </h4>\n              <ul class=\"text-sm text-gray-600 dark:text-gray-300 space-y-1\">\n                <li v-for=\"item in cartItems\" :key=\"item.id\">\n                  ‚Ä¢ {{ item.productName }} - {{ item.fileName }}\n                </li>\n              </ul>\n              <p class=\"text-xs text-gray-500 dark:text-gray-400 mt-2\">\n                Total: {{ cartItems.length }} producto(s) - {{ totalFiles }} archivo(s)\n              </p>\n            </div>\n\n            <!-- Selecci√≥n de plataforma -->\n            <div class=\"mt-4\">\n              <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\">\n                Prefiero enviar por:\n              </label>\n              <div class=\"grid grid-cols-2 gap-3\">\n                <button \n                  @click=\"sendViaTelegram\"\n                  :disabled=\"!canSubmitQuote\"\n                  :class=\"[\n                    'p-4 rounded-xl border-2 font-semibold transition-all duration-300 transform hover:-translate-y-0.5 flex flex-col items-center justify-center',\n                    canSubmitQuote\n                      ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900/30'\n                      : 'border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-700 text-gray-400 cursor-not-allowed'\n                  ]\"\n                >\n                  <span class=\"material-symbols-outlined text-2xl mb-2\">telegram</span>\n                  <span>Telegram</span>\n                  <span class=\"text-xs mt-1 opacity-75\">(Con im√°genes)</span>\n                </button>\n                \n                <button \n                  @click=\"sendViaWhatsApp\"\n                  :disabled=\"!canSubmitQuote\"\n                  :class=\"[\n                    'p-4 rounded-xl border-2 font-semibold transition-all duration-300 transform hover:-translate-y-0.5 flex flex-col items-center justify-center',\n                    canSubmitQuote\n                      ? 'border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 hover:bg-green-100 dark:hover:bg-green-900/30'\n                      : 'border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-700 text-gray-400 cursor-not-allowed'\n                  ]\"\n                >\n                  <span class=\"material-symbols-outlined text-2xl mb-2\">whatsapp</span>\n                  <span>WhatsApp</span>\n                  <span class=\"text-xs mt-1 opacity-75\">(Solo texto)</span>\n                </button>\n              </div>\n            </div>\n\n            <!-- Botones -->\n            <div class=\"flex gap-3 mt-6\">\n              <button \n                @click=\"showContactModal = false\"\n                class=\"flex-1 px-4 py-3 border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl font-semibold hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-300\"\n              >\n                Cancelar\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport AppHeader from '@/components/Header.vue'\n\nexport default {\n  name: 'CartView',\n  components: {\n    AppHeader\n  },\n  data() {\n    return {\n      cartItems: [],\n      cartCount: 0,\n      showContactModal: false,\n      customerInfo: {\n        name: '',\n        contact: '', // Puede ser n√∫mero de WhatsApp o usuario de Telegram\n        email: ''\n      },\n      // CONFIGURACI√ìN - CAMBIA ESTOS DATOS\n      telegramConfig: {\n        botUsername: 'PigmaprintBot', // Tu bot de Telegram\n        chatId: '5049' // ID del chat o grupo de Pigmaprint\n      },\n      whatsappConfig: {\n        number: '5049' // N√∫mero de WhatsApp de Pigmaprint\n      }\n    }\n  },\n  computed: {\n    canSubmitQuote() {\n      return this.customerInfo.name.trim() !== '' && \n             this.customerInfo.contact.trim() !== '' &&\n             this.cartItems.length > 0\n    },\n    totalFiles() {\n      return this.cartItems.length\n    },\n    hasImageFiles() {\n      return this.cartItems.some(item => \n        item.file && item.file.type.includes('image')\n      )\n    }\n  },\n  mounted() {\n    this.loadCart()\n  },\n  methods: {\n    loadCart() {\n      const savedCart = localStorage.getItem('pigmaprint_cart')\n      if (savedCart) {\n        const cartData = JSON.parse(savedCart)\n        this.cartItems = cartData.map(item => {\n          if (item.fileData && !item.file) {\n            return {\n              ...item,\n              file: this.dataURLtoFile(item.fileData, item.fileName)\n            }\n          }\n          return item\n        })\n        this.cartCount = this.cartItems.length\n      }\n    },\n\n    dataURLtoFile(dataurl, filename) {\n      if (!dataurl) return null\n      try {\n        const arr = dataurl.split(',')\n        const mime = arr[0].match(/:(.*?);/)[1]\n        const bstr = atob(arr[1])\n        let n = bstr.length\n        const u8arr = new Uint8Array(n)\n        while (n--) {\n          u8arr[n] = bstr.charCodeAt(n)\n        }\n        return new File([u8arr], filename, { type: mime })\n      } catch (error) {\n        console.error('Error converting dataURL to File:', error)\n        return null\n      }\n    },\n\n    getProductIcon(productType) {\n      const icons = {\n        camiseta: 'checkroom',\n        taza: 'coffee',\n        termo: 'water_bottle',\n        gorra: 'sports_baseball',\n        vaso: 'liquor',\n        hoodie: 'account_circle',\n        otros: 'category'\n      }\n      return icons[productType] || 'category'\n    },\n\n    getProductTypeLabel(productType) {\n      const labels = {\n        camiseta: 'Camiseta',\n        taza: 'Taza',\n        termo: 'Termo',\n        gorra: 'Gorra',\n        vaso: 'Vaso T√©rmico',\n        hoodie: 'Hoodie',\n        otros: 'Otro Producto'\n      }\n      return labels[productType] || 'Producto'\n    },\n    \n    formatDate(dateString) {\n      const date = new Date(dateString)\n      return date.toLocaleDateString('es-ES', {\n        day: '2-digit',\n        month: '2-digit',\n        year: 'numeric'\n      })\n    },\n\n    formatFileSize(bytes) {\n      if (!bytes) return 'N/A'\n      if (bytes === 0) return '0 Bytes'\n      const k = 1024\n      const sizes = ['Bytes', 'KB', 'MB', 'GB']\n      const i = Math.floor(Math.log(bytes) / Math.log(k))\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\n    },\n\n    getFilePreview(file) {\n      if (!file) return ''\n      return URL.createObjectURL(file)\n    },\n    \n    removeItem(itemId) {\n      this.cartItems = this.cartItems.filter(item => item.id !== itemId)\n      this.saveCart()\n      this.cartCount = this.cartItems.length\n    },\n    \n    clearCart() {\n      if (confirm('¬øEst√°s seguro de que quieres vaciar el carrito?')) {\n        this.cartItems = []\n        this.saveCart()\n        this.cartCount = 0\n      }\n    },\n    \n    saveCart() {\n      const cartToSave = this.cartItems.map(item => ({\n        ...item,\n        file: null,\n        fileData: item.file ? this.fileToDataURL(item.file) : null\n      }))\n      localStorage.setItem('pigmaprint_cart', JSON.stringify(cartToSave))\n    },\n\n    fileToDataURL(file) {\n      return new Promise((resolve) => {\n        const reader = new FileReader()\n        reader.onload = (e) => resolve(e.target.result)\n        reader.readAsDataURL(file)\n      })\n    },\n\n    // TELEGRAM - ENV√çA IM√ÅGENES Y ARCHIVOS\n    async sendViaTelegram() {\n      if (!this.canSubmitQuote) {\n        alert('Por favor completa tu informaci√≥n de contacto')\n        return\n      }\n\n      try {\n        const message = this.createDetailedMessage()\n        \n        // Para Telegram, podemos intentar dos enfoques:\n        \n        // 1. Enfoque con bot (recomendado)\n        const telegramURL = this.createTelegramBotURL(message)\n        window.open(telegramURL, '_blank', 'noopener,noreferrer')\n        \n        // 2. Enfoque alternativo: compartir v√≠a t.me\n        // this.shareViaTelegramShare(message)\n        \n        this.showContactModal = false\n        \n        setTimeout(() => {\n          alert('‚úÖ Se ha abierto Telegram. Por favor env√≠a el mensaje y ADJUNTA LAS IM√ÅGENES manualmente desde tu galer√≠a.')\n        }, 1000)\n\n      } catch (error) {\n        console.error('Error con Telegram:', error)\n        alert('Error al abrir Telegram. Por favor intenta manualmente.')\n      }\n    },\n\n    createTelegramBotURL(message) {\n      // URL para enviar mensaje a un bot de Telegram\n      const encodedMessage = encodeURIComponent(message)\n      return `https://t.me/${this.telegramConfig.botUsername}?start=${encodedMessage}`\n    },\n\n    shareViaTelegramShare(message) {\n      // Enfoque alternativo usando la funci√≥n de compartir de Telegram\n      const shareText = `${message}\\n\\nüíé Pigmaprint - Personalizaci√≥n de Productos`\n      const encodedText = encodeURIComponent(shareText)\n      window.open(`https://t.me/share/url?url=${encodeURIComponent('https://pigmaprint.com')}&text=${encodedText}`, '_blank')\n    },\n\n    // WHATSAPP - SOLO TEXTO\n    sendViaWhatsApp() {\n      if (!this.canSubmitQuote) {\n        alert('Por favor completa tu informaci√≥n de contacto')\n        return\n      }\n\n      try {\n        const message = this.createDetailedMessage()\n        const whatsappNumber = this.whatsappConfig.number.replace(/\\D/g, '')\n        const whatsappURL = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`\n        \n        window.open(whatsappURL, '_blank', 'noopener,noreferrer')\n        this.showContactModal = false\n        \n        setTimeout(() => {\n          alert('‚úÖ Se ha abierto WhatsApp con tu pedido. Por favor env√≠a el mensaje.')\n        }, 1000)\n\n      } catch (error) {\n        console.error('Error con WhatsApp:', error)\n        alert('Error al abrir WhatsApp. Por favor intenta nuevamente.')\n      }\n    },\n\n    createDetailedMessage() {\n      const currentDate = new Date().toLocaleDateString('es-ES')\n      const contactType = this.customerInfo.contact.includes('@') ? 'Telegram' : 'WhatsApp'\n\n      let message = `¬°Hola Pigmaprint! üé®%0A%0A`\n      message += `*SOLICITUD DE COTIZACI√ìN - PEDIDO COMPLETO*%0A%0A`\n\n      // Informaci√≥n del cliente\n      message += `*üë§ INFORMACI√ìN DEL CLIENTE*%0A`\n      message += `‚ñ´Ô∏è *Nombre:* ${this.customerInfo.name}%0A`\n      message += `‚ñ´Ô∏è *Contacto (${contactType}):* ${this.customerInfo.contact}%0A`\n      if (this.customerInfo.email) {\n        message += `‚ñ´Ô∏è *Email:* ${this.customerInfo.email}%0A`\n      }\n      message += `‚ñ´Ô∏è *Fecha:* ${currentDate}%0A%0A`\n\n      // Resumen del pedido\n      message += `*üì¶ RESUMEN DEL PEDIDO*%0A`\n      message += `‚ñ´Ô∏è *Total productos:* ${this.cartItems.length}%0A`\n      message += `‚ñ´Ô∏è *Archivos adjuntos:* ${this.totalFiles}%0A`\n      if (this.hasImageFiles) {\n        message += `‚ñ´Ô∏è *Incluye im√°genes:* S√≠ ‚úÖ%0A`\n      }\n      message += `%0A`\n\n      // Detalles de productos\n      message += `*üé® DETALLES DE PRODUCTOS*%0A%0A`\n      \n      this.cartItems.forEach((item, index) => {\n        message += `*${index + 1}. ${this.getProductTypeLabel(item.productType)}*%0A`\n        message += `   üìÅ *Archivo:* ${item.fileName}%0A`\n        message += `   üìè *Tama√±o:* ${this.formatFileSize(item.file?.size)}%0A`\n        \n        if (item.notes && item.notes.trim() !== '') {\n          message += `   üí¨ *Instrucciones:* ${item.notes}%0A`\n        }\n        \n        // Informaci√≥n adicional para im√°genes\n        if (item.file && item.file.type.includes('image')) {\n          message += `   üñºÔ∏è *Tipo:* Imagen (adjunta)%0A`\n        }\n        \n        message += `%0A`\n      })\n\n      message += `*üí° INFORMACI√ìN ADICIONAL*%0A`\n      message += `Todos los archivos est√°n listos para enviar. Por favor env√≠enme la cotizaci√≥n completa. üôè%0A%0A`\n\n      message += `_üì± Mensaje desde Pigmaprint Web_`\n\n      return message\n    }\n  }\n}\n</script>\n\n<style scoped>\n.modal-fade-enter-active,\n.modal-fade-leave-active {\n  transition: opacity 0.3s ease;\n}\n\n.modal-fade-enter-from,\n.modal-fade-leave-to {\n  opacity: 0;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}